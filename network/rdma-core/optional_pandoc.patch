diff -ru rdma-core-48.0.orig/CMakeLists.txt rdma-core-48.0/CMakeLists.txt
--- rdma-core-48.0.orig/CMakeLists.txt	2023-09-18 13:24:24.000000000 +0800
+++ rdma-core-48.0/CMakeLists.txt	2023-09-18 14:59:56.134525340 +0800
@@ -708,27 +708,41 @@
 add_subdirectory(kernel-headers)
 # Libraries
 add_subdirectory(libibumad)
+if (PANDOC_FOUND)
 add_subdirectory(libibumad/man)
+endif()
 add_subdirectory(libibverbs)
+if (PANDOC_FOUND)
 add_subdirectory(libibverbs/man)
+endif()
 add_subdirectory(librdmacm)
+if (PANDOC_FOUND)
 add_subdirectory(librdmacm/man)
+endif()
 
 # Providers
 if (HAVE_COHERENT_DMA)
 add_subdirectory(providers/bnxt_re)
 add_subdirectory(providers/cxgb4) # NO SPARSE
 add_subdirectory(providers/efa)
+if (PANDOC_FOUND)
 add_subdirectory(providers/efa/man)
+endif()
 add_subdirectory(providers/erdma)
 add_subdirectory(providers/hns)
 add_subdirectory(providers/irdma)
 add_subdirectory(providers/mana)
+if (PANDOC_FOUND)
 add_subdirectory(providers/mana/man)
+endif()
 add_subdirectory(providers/mlx4)
+if (PANDOC_FOUND)
 add_subdirectory(providers/mlx4/man)
+endif()
 add_subdirectory(providers/mlx5)
+if (PANDOC_FOUND)
 add_subdirectory(providers/mlx5/man)
+endif()
 add_subdirectory(providers/mthca)
 add_subdirectory(providers/ocrdma)
 add_subdirectory(providers/qedr)
@@ -738,15 +752,21 @@
 add_subdirectory(providers/hfi1verbs)
 add_subdirectory(providers/ipathverbs)
 add_subdirectory(providers/rxe)
+if (PANDOC_FOUND)
 add_subdirectory(providers/rxe/man)
+endif()
 add_subdirectory(providers/siw)
 
 add_subdirectory(libibmad)
 add_subdirectory(libibnetdisc)
+if (PANDOC_FOUND)
 add_subdirectory(libibnetdisc/man)
+endif()
 add_subdirectory(infiniband-diags)
 add_subdirectory(infiniband-diags/scripts)
+if (PANDOC_FOUND)
 add_subdirectory(infiniband-diags/man)
+endif()
 
 if (CYTHON_EXECUTABLE)
   add_subdirectory(pyverbs)
